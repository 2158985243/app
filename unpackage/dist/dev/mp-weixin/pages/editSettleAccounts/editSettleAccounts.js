(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/editSettleAccounts/editSettleAccounts"],{965:
/*!**********************************************************************************************************************!*\
  !*** C:/Users/admin/Desktop/clothingAPP/clothing/main.js?{"page":"pages%2FeditSettleAccounts%2FeditSettleAccounts"} ***!
  \**********************************************************************************************************************/
/*! no static exports found */function(t,e,n){"use strict";(function(t){n(/*! uni-pages */4);i(n(/*! vue */2));var e=i(n(/*! ./pages/editSettleAccounts/editSettleAccounts.vue */966));function i(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["createPage"])},966:
/*!***************************************************************************************************!*\
  !*** C:/Users/admin/Desktop/clothingAPP/clothing/pages/editSettleAccounts/editSettleAccounts.vue ***!
  \***************************************************************************************************/
/*! no static exports found */function(t,e,n){"use strict";n.r(e);var i=n(/*! ./editSettleAccounts.vue?vue&type=template&id=03b2db34&scoped=true& */967),o=n(/*! ./editSettleAccounts.vue?vue&type=script&lang=js& */969);for(var s in o)"default"!==s&&function(t){n.d(e,t,(function(){return o[t]}))}(s);n(/*! ./editSettleAccounts.vue?vue&type=style&index=0&id=03b2db34&scoped=true&lang=scss& */971);var r,a=n(/*! ../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */10),u=Object(a["default"])(o["default"],i["render"],i["staticRenderFns"],!1,null,"03b2db34",null,!1,i["components"],r);u.options.__file="pages/editSettleAccounts/editSettleAccounts.vue",e["default"]=u.exports},967:
/*!**********************************************************************************************************************************************!*\
  !*** C:/Users/admin/Desktop/clothingAPP/clothing/pages/editSettleAccounts/editSettleAccounts.vue?vue&type=template&id=03b2db34&scoped=true& ***!
  \**********************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(t,e,n){"use strict";n.r(e);var i=n(/*! -!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./editSettleAccounts.vue?vue&type=template&id=03b2db34&scoped=true& */968);n.d(e,"render",(function(){return i["render"]})),n.d(e,"staticRenderFns",(function(){return i["staticRenderFns"]})),n.d(e,"recyclableRender",(function(){return i["recyclableRender"]})),n.d(e,"components",(function(){return i["components"]}))},968:
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!C:/Users/admin/Desktop/clothingAPP/clothing/pages/editSettleAccounts/editSettleAccounts.vue?vue&type=template&id=03b2db34&scoped=true& ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(t,e,n){"use strict";var i;n.r(e),n.d(e,"render",(function(){return o})),n.d(e,"staticRenderFns",(function(){return r})),n.d(e,"recyclableRender",(function(){return s})),n.d(e,"components",(function(){return i}));try{i={uNavbar:function(){return n.e(/*! import() | node-modules/uview-ui/components/u-navbar/u-navbar */"node-modules/uview-ui/components/u-navbar/u-navbar").then(n.bind(null,/*! uview-ui/components/u-navbar/u-navbar.vue */1671))},uIcon:function(){return n.e(/*! import() | node-modules/uview-ui/components/u-icon/u-icon */"node-modules/uview-ui/components/u-icon/u-icon").then(n.bind(null,/*! uview-ui/components/u-icon/u-icon.vue */1590))},uImage:function(){return n.e(/*! import() | node-modules/uview-ui/components/u-image/u-image */"node-modules/uview-ui/components/u-image/u-image").then(n.bind(null,/*! uview-ui/components/u-image/u-image.vue */1664))},uInput:function(){return Promise.all(/*! import() | node-modules/uview-ui/components/u-input/u-input */[n.e("common/vendor"),n.e("node-modules/uview-ui/components/u-input/u-input")]).then(n.bind(null,/*! uview-ui/components/u-input/u-input.vue */1562))},uPicker:function(){return Promise.all(/*! import() | node-modules/uview-ui/components/u-picker/u-picker */[n.e("common/vendor"),n.e("node-modules/uview-ui/components/u-picker/u-picker")]).then(n.bind(null,/*! uview-ui/components/u-picker/u-picker.vue */1647))},uCheckboxGroup:function(){return Promise.all(/*! import() | node-modules/uview-ui/components/u-checkbox-group/u-checkbox-group */[n.e("common/vendor"),n.e("node-modules/uview-ui/components/u-checkbox-group/u-checkbox-group")]).then(n.bind(null,/*! uview-ui/components/u-checkbox-group/u-checkbox-group.vue */1576))},uCheckbox:function(){return n.e(/*! import() | node-modules/uview-ui/components/u-checkbox/u-checkbox */"node-modules/uview-ui/components/u-checkbox/u-checkbox").then(n.bind(null,/*! uview-ui/components/u-checkbox/u-checkbox.vue */1583))},uPopup:function(){return n.e(/*! import() | node-modules/uview-ui/components/u-popup/u-popup */"node-modules/uview-ui/components/u-popup/u-popup").then(n.bind(null,/*! uview-ui/components/u-popup/u-popup.vue */1604))},uToast:function(){return n.e(/*! import() | node-modules/uview-ui/components/u-toast/u-toast */"node-modules/uview-ui/components/u-toast/u-toast").then(n.bind(null,/*! uview-ui/components/u-toast/u-toast.vue */1597))}}}catch(a){if(-1===a.message.indexOf("Cannot find module")||-1===a.message.indexOf(".vue"))throw a;console.error(a.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var o=function(){var t=this,e=t.$createElement,n=(t._self._c,t.members.name?t.$imgFn(t.members.image):null),i=t.__map(t.list,(function(e,n){var i=t.__get_orig(e),o=t.__map(e.data,(function(n,i){var o=t.__get_orig(n),s=n.quantity>0?t.$imgFn(e.goodsOf.main_image):null;return{$orig:o,m1:s}}));return{$orig:i,l0:o}})),o=t.discounts?(10*Number(t.discounts)).toFixed(2):null,s=t.__map(t.discount_list,(function(e,n){var i=t.__get_orig(e),o=(10*Number(e.discount)).toFixed(2);return{$orig:i,g1:o}}));t._isMounted||(t.e0=function(e){t.show=!t.show},t.e1=function(e){t.show_edit=!1}),t.$mp.data=Object.assign({},{$root:{m0:n,l1:i,g0:o,l2:s}})},s=!1,r=[];o._withStripped=!0},969:
/*!****************************************************************************************************************************!*\
  !*** C:/Users/admin/Desktop/clothingAPP/clothing/pages/editSettleAccounts/editSettleAccounts.vue?vue&type=script&lang=js& ***!
  \****************************************************************************************************************************/
/*! no static exports found */function(t,e,n){"use strict";n.r(e);var i=n(/*! -!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./editSettleAccounts.vue?vue&type=script&lang=js& */970),o=n.n(i);for(var s in i)"default"!==s&&function(t){n.d(e,t,(function(){return i[t]}))}(s);e["default"]=o.a},970:
/*!***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!C:/Users/admin/Desktop/clothingAPP/clothing/pages/editSettleAccounts/editSettleAccounts.vue?vue&type=script&lang=js& ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=c(n(/*! ./node_modules/@babel/runtime/regenerator */38)),o=c(n(/*! @/store */48)),s=n(/*! ../../api/account.js */214),r=n(/*! ../../api/salesOrder.js */69),a=n(/*! ../../api/point.js */889),u=n(/*! ../../api/discount.js */890);function c(t){return t&&t.__esModule?t:{default:t}}function m(t,e,n,i,o,s,r){try{var a=t[s](r),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(i,o)}function d(t){return function(){var e=this,n=arguments;return new Promise((function(i,o){var s=t.apply(e,n);function r(t){m(s,i,o,r,a,"next",t)}function a(t){m(s,i,o,r,a,"throw",t)}r(void 0)}))}}var f={data:function(){return{background:{backgroundColor:"#2979ff"},rebate:0,list:[],sum_number:0,sum_money:0,form:{customer_id:0,discount_money:"",staff_id:0,money:0,reward_point:0,pay_type:0,payment:[],status:0,goods:[],remarks:""},group:[{name:"打印小票",checked:!1},{name:"短信通知",checked:!1}],show:!1,showed:!1,showtime:!1,showPayment:!1,params:{year:!0,month:!0,day:!0,hour:!1,minute:!1,second:!1},staff:"",discounts:"",unit:1,integral:1,placeholder:"",test:"",members:{name:""},discount:0,discount_list:[],value:"",active:9999,set_del:!1,paymentList:[],activePay:9999,payItem:{},show_edit:!1,money_edit:"",id:0,show_psd:!1,password:""}},computed:{goods:function(){return o.default.state.specificationOfGoods},toMoney:function(){var t=0;return this.discounts?(t=(Number(this.sum_money)*Number(this.discounts)).toFixed(2),this.form.discount_money=(Number(this.sum_money)-t).toFixed(2)):t=Number(this.sum_money)-Number(this.form.discount_money),this.form.money=t,t}},methods:{inputValue:function(t){this.form.discount_money=t,this.form.money=Number(this.sum_money)-Number(this.form.discount_money),this.$forceUpdate()},init:function(){var t=this;this.list=[],this.sum_number=0,this.sum_money=0,this.goods.map((function(e,n){e.goodsData.map((function(e,n){e.data.map((function(t,n){t["retail_price"]=Number(e.goodsOf.retail_price)})),e.quantity>0&&t.list.push(e)}))})),this.list.map((function(e,n){t.sum_number+=Number(e.quantity),e.data.map((function(e,n){e.quantity>0&&(e.discount||(e["discount"]=1),e["retail_price"]=(Number(e.retail_price)*Number(e.discount)).toFixed(2),t.sum_money+=Number(e.quantity)*Number(e.retail_price))}))})),this.sum_money=this.sum_money.toFixed(2),this.form.money=this.toMoney},hiddenTime:function(){this.showtime=!0},confirmTime:function(t){this.form.business_time="".concat(t.year,"-").concat(t.month,"-").concat(t.day)},toSelecSalesperson:function(){t.navigateTo({url:"/pages/selecSalesperson/selecSalesperson"})},toMemberSelect:function(){t.navigateTo({url:"/pages/memberSelect/memberSelect"})},toResale:function(){var e=this;this.list.map((function(t,n){t.data.map((function(n,i){e.goods.map((function(e,i){e.goodsData.map((function(e,i){e.data.map((function(i,o){e.quantity>0&&t.goods_id==e.goods_id&&n.size.id==i.size.id&&(e.quantity=t.quantity,i.quantity=n.quantity)}))}))}))}))})),this.$store.commit("commercialSpecification",{specificationOfGoods:this.goods}),t.navigateTo({url:"/pages/resaleCashier/resaleCashier?account=true"})},toIntegralList:function(){t.navigateTo({url:"/pages/IntegralList/IntegralList"})},sure:function(e){var n=this;return d(i.default.mark((function o(){var s,a;return i.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(!(n.list.length>0)){i.next=21;break}if(s=[],n.list.map((function(t){t.data.map((function(e){0!=e.quantity&&s.push({goods_id:t.goods_id,color_id:t.id,size_id:e.size.id,price:t.goodsOf.retail_price,quantity:e.quantity,discount:Number(e.discount),real_price:e.retail_price})}))})),""==n.form.discount_money&&(n.form.discount_money=0),n.form.goods=s,e){i.next=15;break}return n.form.status=0,delete n.form.payment,i.next=10,(0,r.salesOrderEdit)(n.id,n.form);case 10:a=i.sent,n.$store.commit("commercialSpecification",{specificationOfGoods:[]}),a.code||t.navigateTo({url:"/pages/resaleCashier/resaleCashier"}),i.next=19;break;case 15:n.form.status=1,n.activePay=9999,n.showPayment=!0,n.payItem={};case 19:i.next=22;break;case 21:n.$refs.uToast.show({title:"请选择商品",type:"default",position:"bottom"});case 22:case"end":return i.stop()}}),o)})))()},clear:function(){var t=this;this.sum_money=0,this.members={name:""},this.form.customer_id=0,this.form.reward_point=0,this.list.map((function(e){e.data.map((function(n){n.quantity>0&&(n.discount=1,n.retail_price=e.goodsOf.retail_price,t.sum_money+=Number(n.quantity)*Number(n.retail_price))}))})),this.sum_money=this.sum_money.toFixed(2),this.form.money=this.sum_money-this.form.discount_money},discountFn:function(){var t=this;return d(i.default.mark((function e(){var n;return i.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,u.discountList)();case 2:n=e.sent,t.discount_list=[],n.map((function(e,n){t.discount_list.push(e),t.$set(t.discount_list,n,t.discount_list[n])}));case 5:case"end":return e.stop()}}),e)})))()},addDiscount:function(){this.showed=!0},ensure:function(){var t=this;return d(i.default.mark((function e(){var n;return i.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=(0,u.discountAdd)({discount:t.value}),n.code?t.$refs.uToast.show({title:n.msg,type:"default",position:"center"}):setTimeout((function(){t.discountFn(),t.showed=!1}),500),t.value="";case 3:case"end":return e.stop()}}),e)})))()},abrogate:function(){this.value="",this.showed=!1},edt:function(){this.active=9999,this.rebate="",this.set_del=!this.set_del},abolish:function(){this.show=!1,this.active=9999,this.rebate="",this.set_del=!1},itemClick:function(t,e){this.set_del||(this.active=e,this.rebate=t.discount)},notarize:function(t){this.rebate?(this.discounts=this.rebate,this.form.money=this.toMoney,this.form.customer_id>0&&(this.form.reward_point=Math.floor(this.integral/Number(this.unit)*this.toMoney)),this.rebate="",this.show=!1):this.set_del?this.$refs.uToast.show({title:"请完成编辑",type:"default",position:"center"}):this.$refs.uToast.show({title:"请选择折扣",type:"default",position:"center"})},discountedDel:function(e){var n=this;t.showModal({title:"折扣编辑",content:"是否删除此折扣？",success:function(){var t=d(i.default.mark((function t(o){var s;return i.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!o.confirm){t.next=7;break}return t.next=3,(0,u.discountDel)(e.id);case 3:s=t.sent,s.code||setTimeout((function(){n.discountFn()}),500),t.next=8;break;case 7:o.cancel&&console.log("用户点击取消");case 8:case"end":return t.stop()}}),t)})));function o(e){return t.apply(this,arguments)}return o}()})},open:function(){this.active=9999,this.rebate="",this.set_del=!1},pointGetDe:function(){var t=this;return d(i.default.mark((function e(){var n;return i.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,a.pointGetDefault)();case 2:n=e.sent,t.unit=n.money,t.integral=n.point,t.placeholder=n.money+"元="+n.point+"积分",t.form.customer_id>0&&(t.form.reward_point=Math.floor(t.integral/Number(t.unit)*t.toMoney));case 7:case"end":return e.stop()}}),e)})))()},togoodsOf:function(e,n,i){var o={item:e,index:n,indexGoods:i};t.navigateTo({url:"/pages/editItems/editItems?obj="+encodeURIComponent(JSON.stringify(o))})},accountd:function(){var t=this;return d(i.default.mark((function e(){var n;return i.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,s.accountList)();case 2:n=e.sent,n.unshift({account_id:0,name:"余额支付"}),n.map((function(e){e["checked"]=!0,("欠款"==e.name||"余额支付"==e.name)&&t.form.customer_id>0&&(e["checked"]=!1)})),t.paymentList=n;case 6:case"end":return e.stop()}}),e)})))()},paymentItem:function(t,e){this.activePay=e,this.payItem=t,console.log(t)},paySure:function(){var e=this;return d(i.default.mark((function n(){var o;return i.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e.form.payment=[],e.form.payment.push({account_id:e.payItem.account_id,money:e.form.money}),console.log(e.members),0!=e.payItem.account_id||1!=e.members.has_password){n.next=8;break}e.password="",e.show_psd=!0,n.next=12;break;case 8:return n.next=10,(0,r.salesOrderEdit)(e.id,e.form);case 10:o=n.sent,o.code||(e.showPayment=!1,t.navigateTo({url:"/pages/paymentSuccess/paymentSuccess?payItem=".concat(e.payItem.name,"&money=").concat(e.form.money)}));case 12:case"end":return n.stop()}}),n)})))()},combination:function(){var e={form:this.form,paymentList:this.paymentList,has_password:this.members.has_password,id:this.id};t.navigateTo({url:"/pages/combination/combination?obj="+encodeURIComponent(JSON.stringify(e))})},showEditMoney:function(){this.money_edit="",this.show_edit=!0},ensureEdit:function(){this.form.money=this.money_edit,this.form.customer_id>0&&(this.form.reward_point=Math.floor(this.integral/Number(this.unit)*this.toMoney)),this.form.discount_money=this.sum_money-this.form.money,this.show_edit=!1},DetailsFn:function(){var t=this;return d(i.default.mark((function e(){var n,o;return i.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,r.salesOrder)(t.id);case 2:n=e.sent,console.log(n),n.staff&&(t.staff=n.staff.name),n.customer&&(t.members=n.customer),t.form={customer_id:n.customer_id,discount_money:n.discount_money,staff_id:n.staff_id,money:n.money,reward_point:n.reward_point,pay_type:n.pay_type,payment:n.sales_payment,status:n.status,goods:[],business_time:n.business_time,remarks:n.remarks},o=[],t.list=[],t.sum_number=0,t.sum_money=0,n.goods.map((function(t,e){o.push({goodsData:[]}),t.color.map((function(n,i){o[e].goodsData.push({data:[],goodsOf:{id:t.id,images:t.images,main_image:t.main_image,name:t.name,number:t.number,retail_price:t.retail_price},goods_category_id:t.goods_category_id,goods_id:t.id,id:n.id,name:n.name,quantity:0,valNew:0,valOld:0})}))})),n.goods.map((function(e,i){o[i].goodsData.map((function(t,n){e.goods_spec.map((function(e,n){e.color_id==t.id&&t.data.push({goods_spec_info:e.goods_spec_info,hidden:!0,quantity:0,size:e.size,id:0})}))})),o[i].goodsData.map((function(e,i){n.sales_goods.map((function(t,n){e.id==t.color_id&&e.goods_id==t.goods_id&&e.data.map((function(n,i){n.size.id==t.size_id&&(n.quantity=t.quantity,n.id=t.id,e.quantity+=n.quantity,n["price"]=t.price)}))})),e.data.map((function(t,n){t["retail_price"]=Number(e.goodsOf.retail_price)})),e.quantity>0&&t.list.push(e)}))})),t.list.map((function(e,n){t.sum_number+=Number(e.quantity),e.data.map((function(e,n){e.quantity>0&&(e.discount||(e["discount"]=1),e["retail_price"]=(Number(e.retail_price)*Number(e.discount)).toFixed(2),t.sum_money+=Number(e.quantity)*Number(e.retail_price))}))})),t.sum_money=t.sum_money.toFixed(2),t.form.money=t.toMoney,t.$store.commit("commercialSpecification",{specificationOfGoods:o});case 17:case"end":return e.stop()}}),e)})))()},delIteme:function(){var e=this;return d(i.default.mark((function n(){var o;return i.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:o=e,t.showModal({title:"提示",content:"是否删除单据？",success:function(){var n=d(i.default.mark((function n(s){var a;return i.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:s.confirm?(a=(0,r.salesOrderDel)(o.id),a.code||(e.$store.commit("commercialSpecification",{specificationOfGoods:[]}),t.redirectTo({url:"/pages/resaleCashier/resaleCashier"}))):s.cancel&&console.log("用户点击取消");case 1:case"end":return n.stop()}}),n)})));function s(t){return n.apply(this,arguments)}return s}()});case 2:case"end":return n.stop()}}),n)})))()},abrogated:function(){this.password="",this.show_psd=!1},ensured:function(){var e=this;return d(i.default.mark((function n(){var o;return i.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.form.password=e.password,n.next=3,(0,r.salesOrderEdit)(e.id,e.form);case 3:o=n.sent,o.code||(e.password="",e.show_psd=!1,e.showPayment=!1,t.navigateTo({url:"/pages/paymentSuccess/paymentSuccess?payItem=".concat(e.payItem.name,"&money=").concat(e.form.money)}));case 5:case"end":return n.stop()}}),n)})))()}},onUnload:function(){t.$off()},onLoad:function(e){var n=this;this.id=e.id,this.DetailsFn(),this.pointGetDe(),this.accountd(),t.$on("selecSalesperson",(function(t){t&&(n.staff=t.name,n.form.staff_id=t.id)})),t.$on("memberSelect",(function(t){t&&(n.members=t,n.form.customer_id=t.id,n.discount=Number(t.customer_level.discount),n.list.map((function(e){e.data.map((function(e){e["discount"]=t.customer_level.discount}))})),n.paymentList.map((function(t){"欠款"!=t.name&&"余额支付"!=t.name||(t.checked=!0)})),n.form.reward_point=Math.floor(n.integral/Number(n.unit)*n.toMoney))})),t.$on("IntegralList",(function(t){t&&(n.unit=t.money,n.integral=t.point,n.placeholder=t.money+"元="+t.point+"积分",n.form.customer_id>0&&(n.form.reward_point=Math.floor(n.integral/Number(n.unit)*n.toMoney)))})),t.$on("editItems",(function(t){t&&(n.list[t.index].data[t.indexGoods].quantity=0,n.list[t.index].data[t.index_later].quantity=t.item.quantity,n.list[t.index].data[t.index_later].discount=t.item.discount,n.list[t.index].data[t.index_later].retail_price=t.item.retail_price,n.list[t.index].quantity=0,n.list[t.index].data.map((function(e){n.list[t.index].quantity+=e.quantity})),n.list.map((function(t,e){n.sum_number+=Number(t.quantity),t.data.map((function(t,e){t.quantity>0&&(t.discount||(t["discount"]=1),t["retail_price"]=Number(t.retail_price)*Number(t.discount),n.sum_money+=Number(t.quantity)*Number(t.retail_price))}))})),n.form.money=n.toMoney)}))},onShow:function(){this.init(),this.discountFn()}};e.default=f}).call(this,n(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["default"])},971:
/*!*************************************************************************************************************************************************************!*\
  !*** C:/Users/admin/Desktop/clothingAPP/clothing/pages/editSettleAccounts/editSettleAccounts.vue?vue&type=style&index=0&id=03b2db34&scoped=true&lang=scss& ***!
  \*************************************************************************************************************************************************************/
/*! no static exports found */function(t,e,n){"use strict";n.r(e);var i=n(/*! -!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-2!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src??ref--8-oneOf-1-3!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-5!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./editSettleAccounts.vue?vue&type=style&index=0&id=03b2db34&scoped=true&lang=scss& */972),o=n.n(i);for(var s in i)"default"!==s&&function(t){n.d(e,t,(function(){return i[t]}))}(s);e["default"]=o.a},972:
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-2!./node_modules/postcss-loader/src??ref--8-oneOf-1-3!./node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-5!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!C:/Users/admin/Desktop/clothingAPP/clothing/pages/editSettleAccounts/editSettleAccounts.vue?vue&type=style&index=0&id=03b2db34&scoped=true&lang=scss& ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(t,e,n){}},[[965,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/editSettleAccounts/editSettleAccounts.js.map
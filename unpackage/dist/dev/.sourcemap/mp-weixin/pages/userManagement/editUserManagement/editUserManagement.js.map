{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/admin/Desktop/clothingAPP/clothing/pages/userManagement/editUserManagement/editUserManagement.vue?6933","webpack:///C:/Users/admin/Desktop/clothingAPP/clothing/pages/userManagement/editUserManagement/editUserManagement.vue?8abe","webpack:///C:/Users/admin/Desktop/clothingAPP/clothing/pages/userManagement/editUserManagement/editUserManagement.vue?fd7c","webpack:///C:/Users/admin/Desktop/clothingAPP/clothing/pages/userManagement/editUserManagement/editUserManagement.vue?ad6f","uni-app:///pages/userManagement/editUserManagement/editUserManagement.vue","webpack:///C:/Users/admin/Desktop/clothingAPP/clothing/pages/userManagement/editUserManagement/editUserManagement.vue?3850"],"names":["createPage","Page","renderjs","component","options","__file","components","uInput","uIcon","uSwitch","uPopup","uToast","e","message","indexOf","console","error","render","_vm","this","_h","$createElement","_self","_c","_isMounted","e0","$event","show","recyclableRender","staticRenderFns","_withStripped"],"mappings":";;;;wEAAA,qBACA,sBACA,oF,mDACAA,EAAWC,a;;;;2DCHX,uVACIC,EADJ,wKASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,WACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,iEACZ,aAAAF,E;;;;2GCvBf,spC;;;;2GCAA,IAAIG,EAAJ,0LACA,IACEA,EAAa,CACXC,OAAQ,WACN,OAAO,qOAITC,MAAO,WACL,OAAO,2LAITC,QAAS,WACP,OAAO,uMAITC,OAAQ,WACN,OAAO,iMAITC,OAAQ,WACN,OAAO,kMAKX,MAAOC,GACP,IAC+C,IAA7CA,EAAEC,QAAQC,QAAQ,wBACa,IAA/BF,EAAEC,QAAQC,QAAQ,QAWlB,MAAMF,EATNG,QAAQC,MAAMJ,EAAEC,SAChBE,QAAQC,MAAM,mBACdD,QAAQC,MACN,uFAEFD,QAAQC,MACN,mDAMN,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACJH,EAAII,MAAMC,GACdL,EAAIM,aACPN,EAAIO,GAAK,SAASC,GAChBR,EAAIS,MAAO,KAIbC,GAAmB,EACnBC,EAAkB,GACtBZ,EAAOa,eAAgB,G;;;;2DC1DvB,uwBAA+sB,eAAG,G;;;;yMCkFltB,kCACA,oC,qXAKA,CACA,KADA,WAEA,OACA,MACA,QACA,WACA,kBACA,SACA,SACA,SACA,aACA,aAGA,YACA,KACA,WACA,WACA,QACA,kBACA,gBACA,QACA,WAGA,SAEA,MAFA,WAGA,iBACA,cAGA,OAPA,WAQA,iCACA,cAGA,QAZA,WAaA,kBACA,cACA,4DAKA,eApBA,WAqBA,kBACA,cACA,6DAKA,mBA5BA,WA6BA,cACA,kDAIA,YAlCA,WAmCA,kBACA,cACA,iDAKA,QA1CA,SA0CA,GAEA,4BAGA,KA/CA,WA+CA,kIACA,gBADA,gBAEA,qBACA,cACA,eACA,oBALA,0BAOA,mBAPA,gBAQA,qBACA,cACA,eACA,oBAXA,0BAaA,oBAbA,iBAcA,qBACA,cACA,eACA,oBAjBA,6BAmBA,mDAnBA,iBAoBA,qBACA,mBACA,eACA,oBAvBA,+BA0BA,mBA1BA,WA2BA,2BA3BA,QA2BA,EA3BA,OA4BA,QACA,iBA7BA,+CAkCA,IAjFA,WAkFA,oBACA,wBACA,mBACA,eACA,wBAEA,CACA,WACA,aACA,WACA,mBACA,2IACA,UADA,iCAEA,mBAFA,OAEA,EAFA,OAGA,QACA,iBAJA,sBAMA,UACA,sBAPA,wGAaA,KA1GA,WA0GA,oJACA,gBADA,OACA,EADA,OAEA,SACA,mBACA,yBACA,uBACA,oBACA,gBACA,gBACA,2BACA,UACA,sBAEA,YACA,aAEA,aAEA,KACA,KACA,6BACA,4BACA,WACA,uBACA,kBACA,kBAKA,yBACA,YACA,mBACA,cACA,YAEA,iBAGA,yBACA,YACA,mBACA,cACA,YAEA,iBAGA,gCACA,eAEA,8BACA,aAEA,6BACA,2BAEA,8CACA,oCACA,wBAEA,wDAEA,0DAEA,gBACA,iBACA,wBACA,0BApEA,+CAyEA,SA5MA,WA6MA,UAEA,OA/MA,SA+MA,cACA,yBACA,aAEA,sCACA,IACA,eACA,yBAIA,aAEA,OA5NA,WA4NA,WAcA,GAZA,sCACA,mBAEA,mDACA,mBACA,WACA,gBAGA,qDAGA,mCACA,mBACA,SACA,+DACA,2BACA,mBACA,mBACA,WACA,eAIA,kDAEA,+BACA,2BACA,mBACA,mBACA,WACA,eAGA,4BAIA,mCACA,oEACA,+C;;;;2DC9VA,21CAA4yC,eAAG,G","file":"pages/userManagement/editUserManagement/editUserManagement.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/userManagement/editUserManagement/editUserManagement.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./editUserManagement.vue?vue&type=template&id=2ed85cf2&scoped=true&\"\nvar renderjs\nimport script from \"./editUserManagement.vue?vue&type=script&lang=js&\"\nexport * from \"./editUserManagement.vue?vue&type=script&lang=js&\"\nimport style0 from \"./editUserManagement.vue?vue&type=style&index=0&id=2ed85cf2&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2ed85cf2\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/userManagement/editUserManagement/editUserManagement.vue\"\nexport default component.exports","export * from \"-!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./editUserManagement.vue?vue&type=template&id=2ed85cf2&scoped=true&\"","var components\ntry {\n  components = {\n    uInput: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-input/u-input\" */ \"uview-ui/components/u-input/u-input.vue\"\n      )\n    },\n    uIcon: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-icon/u-icon\" */ \"uview-ui/components/u-icon/u-icon.vue\"\n      )\n    },\n    uSwitch: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-switch/u-switch\" */ \"uview-ui/components/u-switch/u-switch.vue\"\n      )\n    },\n    uPopup: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-popup/u-popup\" */ \"uview-ui/components/u-popup/u-popup.vue\"\n      )\n    },\n    uToast: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-toast/u-toast\" */ \"uview-ui/components/u-toast/u-toast.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.show = false\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./editUserManagement.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./editUserManagement.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"editUserManagement\">\r\n\t\t<view class=\"box\">\r\n\t\t\t<view class=\"item-box\">\r\n\t\t\t\t<text class=\"item-title\">姓名</text>\r\n\t\t\t\t<u-input placeholder='输入用户姓名' :disabled='is_admin == 1? true:false' v-model=\"form.name\" type=\"text\" />\r\n\t\t\t</view>\r\n\t\t\t<view class=\"item-box\">\r\n\t\t\t\t<text class=\"item-title\">账号</text>\r\n\t\t\t\t<u-input placeholder='输入用户登录账号' maxlength='15' :disabled='is_admin == 1? true:false' v-model=\"form.account\" type=\"text\" />\r\n\t\t\t</view>\r\n\t\t\t<view class=\"item-box\">\r\n\t\t\t\t<text class=\"item-title\">密码</text>\r\n\t\t\t\t<u-input placeholder='输入用户登录密码' maxlength='11' :disabled='true' :password-icon=\"false\" v-model=\"form.password\" type=\"password\" />\r\n\t\t\t\t<text class=\"reset\" @click=\"reset\">重置密码</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"box\">\r\n\t\t\t<view class=\"item-box\">\r\n\t\t\t\t<text class=\"item-title\">用户权限</text>\r\n\t\t\t\t<u-input placeholder='请选择用户权限' @click='purviewSetting' v-model=\"purview_name\" :disabled='true' type=\"text\" />\r\n\t\t\t\t<u-icon name=\"arrow-right\" color=\"#cccccc\" size=\"28\"></u-icon>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"item-box\">\r\n\t\t\t\t<text class=\"item-title\">店铺权限</text>\r\n\t\t\t\t<u-input placeholder='请选择操作店铺' @click=\"toStore\" v-model=\"shop\" :disabled='true' type=\"text\" />\r\n\t\t\t\t<u-icon name=\"arrow-right\" color=\"#cccccc\" size=\"28\"></u-icon>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"item-box\">\r\n\t\t\t\t<text class=\"item-title\">品牌权限</text>\r\n\t\t\t\t<u-input placeholder='请选择品牌' @tap=\"toTrademark\" v-model=\"trademark_name\" :disabled='true' type=\"text\" />\r\n\t\t\t\t<u-icon name=\"arrow-right\" color=\"#cccccc\" size=\"28\"></u-icon>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"box\">\r\n\t\t\t<view class=\"item-box\">\r\n\t\t\t\t<text class=\"item-title\">关联员工</text>\r\n\t\t\t\t<u-input placeholder='请选择关联员工' @tap=\"toSelecSalesperson\" v-model=\"staff\" :disabled='true' type=\"text\" />\r\n\t\t\t\t<u-icon name=\"arrow-right\" color=\"#cccccc\" size=\"28\"></u-icon>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"box\">\r\n\t\t\t<view class=\"item-w\">\r\n\t\t\t\t<text class=\"item-warning\">账号是否启用</text>\r\n\t\t\t\t<u-switch v-model=\"checked\" @change=\"warning\" :disabled='is_admin == 1? true:false' active-value=\"1\" inactive-value=\"0\"></u-switch>\r\n\t\t\t</view>\r\n\t\t\t<!-- <view class=\"kb\">\r\n\r\n\t\t\t</view> -->\r\n\t\t</view>\r\n\t\t<u-popup v-model=\"show\" mode=\"center\" width=\"500rpx\">\r\n\t\t\t<view class=\"pop\">\r\n\t\t\t\t<view class=\"title\">\r\n\t\t\t\t\t重置密码\r\n\t\t\t\t</view>\r\n\t\t\t\t<u-input placeholder='' maxlength='11' :clearable='false' class=\"inout\" height='60' :border='true'\r\n\t\t\t\t placeholder-style=\"background-color:#ffffff;\" :password-icon=\"false\" v-model=\"password\" type=\"password\" />\r\n\t\t\t\t<view class=\"aniu\">\r\n\t\t\t\t\t<view class=\"qx\" @click=\"show = false\">\r\n\t\t\t\t\t\t取消\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"qd\" @click=\"ensure\">\r\n\t\t\t\t\t\t确定\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</u-popup>\r\n\t\t<u-toast ref=\"uToast\" />\r\n\t\t<view class=\"btn\">\r\n\t\t\t<view class=\"del\" @click=\"del\">\r\n\t\t\t\t删除\r\n\t\t\t</view>\r\n\t\t\t<view class=\"bc\" @click=\"sure\">\r\n\t\t\t\t保存\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport store from '@/store/index.js'\r\n\timport {\r\n\t\tuser,\r\n\t\tuserEdit,\r\n\t\tuserDel\r\n\t} from '../../../api/user.js'\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tform: {\r\n\t\t\t\t\tname: '',\r\n\t\t\t\t\taccount: '',\r\n\t\t\t\t\tpassword: '******',\r\n\t\t\t\t\tstatus: 1,\r\n\t\t\t\t\tstore: [],\r\n\t\t\t\t\tbrand: [],\r\n\t\t\t\t\tauthority: [],\r\n\t\t\t\t\tstaff_id: '',\r\n\r\n\t\t\t\t},\r\n\t\t\t\tpassword: '',\r\n\t\t\t\tid: 0,\r\n\t\t\t\tis_admin: 0,\r\n\t\t\t\tchecked: true,\r\n\t\t\t\tshow: false,\r\n\t\t\t\ttrademark_name: '', //品牌\r\n\t\t\t\tpurview_name: '', //用户权限\r\n\t\t\t\tshop: '', //店铺\r\n\t\t\t\tstaff: '', //关联员工\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 打开重置密码\r\n\t\t\treset() {\r\n\t\t\t\tthis.password = ''\r\n\t\t\t\tthis.show = true\r\n\t\t\t},\r\n\t\t\t// 确定重置密码\r\n\t\t\tensure() {\r\n\t\t\t\tthis.form.password = this.password\r\n\t\t\t\tthis.show = false\r\n\t\t\t},\r\n\t\t\t// 前往店铺\r\n\t\t\ttoStore() {\r\n\t\t\t\tif (this.is_admin == 0) {\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl: '/pages/storeManagementSelect/storeManagementSelect'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 前往用户权限\r\n\t\t\tpurviewSetting() {\r\n\t\t\t\tif (this.is_admin == 0) {\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl: '/pages/userManagement/purviewSetting/purviewSetting'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 前往选择经手人\r\n\t\t\ttoSelecSalesperson() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/pages/selecSalesperson/selecSalesperson'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 品牌！！！\r\n\t\t\ttoTrademark() {\r\n\t\t\t\tif (this.is_admin == 0) {\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl: '/pages/userManagement/tademark/tademark'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 账号是否启用\r\n\t\t\twarning(v) {\r\n\t\t\t\t// console.log(v);\r\n\t\t\t\tthis.form.status = Number(v);\r\n\t\t\t},\r\n\t\t\t// 保存\r\n\t\t\tasync sure() {\r\n\t\t\t\tif (this.form.name == '') {\r\n\t\t\t\t\tthis.$refs.uToast.show({\r\n\t\t\t\t\t\ttitle: '请输入姓名',\r\n\t\t\t\t\t\ttype: 'default',\r\n\t\t\t\t\t\tposition: 'bottom'\r\n\t\t\t\t\t})\r\n\t\t\t\t} else if (this.form.account == '') {\r\n\t\t\t\t\tthis.$refs.uToast.show({\r\n\t\t\t\t\t\ttitle: '请输入账号',\r\n\t\t\t\t\t\ttype: 'default',\r\n\t\t\t\t\t\tposition: 'bottom'\r\n\t\t\t\t\t})\r\n\t\t\t\t} else if (this.form.password == '') {\r\n\t\t\t\t\tthis.$refs.uToast.show({\r\n\t\t\t\t\t\ttitle: '请输入密码',\r\n\t\t\t\t\t\ttype: 'default',\r\n\t\t\t\t\t\tposition: 'bottom'\r\n\t\t\t\t\t})\r\n\t\t\t\t} else if (this.form.account.length < 4 || this.form.account.length > 15) {\r\n\t\t\t\t\tthis.$refs.uToast.show({\r\n\t\t\t\t\t\ttitle: '请输入4-15位账号',\r\n\t\t\t\t\t\ttype: 'default',\r\n\t\t\t\t\t\tposition: 'bottom'\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.form.password = ''\r\n\t\t\t\t\tlet res = await userEdit(this.id, this.form);\r\n\t\t\t\t\tif (!res.code) {\r\n\t\t\t\t\t\tuni.navigateBack()\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//删除 \r\n\t\t\tdel() {\r\n\t\t\t\tif (this.is_admin == 1) {\r\n\t\t\t\t\tthis.$refs.uToast.show({\r\n\t\t\t\t\t\ttitle: 'boss账号不能删！',\r\n\t\t\t\t\t\ttype: 'default',\r\n\t\t\t\t\t\tposition: 'bottom'\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlet _this = this\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\t\tcontent: '是否删除该用户？',\r\n\t\t\t\t\t\tsuccess: async (res) => {\r\n\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\tlet res = await userDel(_this.id)\r\n\t\t\t\t\t\t\t\tif (!res.code) {\r\n\t\t\t\t\t\t\t\t\tuni.navigateBack()\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else if (res.cancel) {\r\n\t\t\t\t\t\t\t\tconsole.log('用户点击取消');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tasync init() {\r\n\t\t\t\tlet res = await user(this.id)\r\n\t\t\t\tif (!res.code) {\r\n\t\t\t\t\tthis.form.name = res.name;\r\n\t\t\t\t\tthis.form.account = res.account;\r\n\t\t\t\t\tthis.form.status = res.status;\r\n\t\t\t\t\tthis.form.authority = []\r\n\t\t\t\t\tthis.form.brand = []\r\n\t\t\t\t\tthis.form.store = []\r\n\t\t\t\t\tthis.form.staff_id = res.staff_id;\r\n\t\t\t\t\tif (res.staff) {\r\n\t\t\t\t\t\tthis.staff = res.staff.name\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (res.status == 1) {\r\n\t\t\t\t\t\tthis.checked = true;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.checked = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlet store = []\r\n\t\t\t\t\tlet brand = []\r\n\t\t\t\t\tres.authority.map(v => {\r\n\t\t\t\t\t\tv.children.map(v1 => {\r\n\t\t\t\t\t\t\tif (v1.checked) {\r\n\t\t\t\t\t\t\t\tthis.form.authority.push({\r\n\t\t\t\t\t\t\t\t\tauthority_id: v1.id,\r\n\t\t\t\t\t\t\t\t\tchecked: 1\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t})\r\n\t\t\t\t\tres.brand.map(v => {\r\n\t\t\t\t\t\tif (v.checked) {\r\n\t\t\t\t\t\t\tthis.form.brand.push({\r\n\t\t\t\t\t\t\t\tbrand_id: v.id,\r\n\t\t\t\t\t\t\t\tchecked: 1\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tbrand.push(v.id)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\tres.store.map(v => {\r\n\t\t\t\t\t\tif (v.checked) {\r\n\t\t\t\t\t\t\tthis.form.store.push({\r\n\t\t\t\t\t\t\t\tstore_id: v.id,\r\n\t\t\t\t\t\t\t\tchecked: 1\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tstore.push(v.id)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.$store.commit('storeSeletFn', {\r\n\t\t\t\t\t\tstoreSelet: store\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.$store.commit('tademarkFn', {\r\n\t\t\t\t\t\ttademark: brand\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.$store.commit('purviewFn', {\r\n\t\t\t\t\t\tpurview: this.form.authority\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.shop = `店铺权限${this.form.store.length}项`;\r\n\t\t\t\t\tif (this.form.brand.length == res.brand.length) {\r\n\t\t\t\t\t\tthis.trademark_name = `全部品牌`;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.trademark_name = `品牌权限${this.form.brand.length}项`;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.purview_name = `单据权限${this.form.authority.length}项`;\r\n\r\n\t\t\t\t\tif (this.is_admin == 1) {\r\n\t\t\t\t\t\tthis.shop = `可操作全部店铺`;\r\n\t\t\t\t\t\tthis.trademark_name = `全部品牌`;\r\n\t\t\t\t\t\tthis.purview_name = `已有全部权限`;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonUnload() {\r\n\t\t\tuni.$off()\r\n\t\t},\r\n\t\tonLoad(query) {\r\n\t\t\tthis.is_admin = query.is_admin;\r\n\t\t\tthis.id = query.id;\r\n\t\t\t// 员工\r\n\t\t\tuni.$on(\"selecSalesperson\", (res) => {\r\n\t\t\t\tif (res) {\r\n\t\t\t\t\tthis.staff = res.name;\r\n\t\t\t\t\tthis.form.staff_id = res.id;\r\n\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tthis.init()\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\t// 店铺权限\r\n\t\t\tif (store.state.storeSelet.length > 0) {\r\n\t\t\t\tthis.form.store = []\r\n\t\t\t\t// this.form.store = store.state.storeSelet\r\n\t\t\t\tstore.state.storeSelet.map((v) => [\r\n\t\t\t\t\tthis.form.store.push({\r\n\t\t\t\t\t\tstore_id: v,\r\n\t\t\t\t\t\tchecked: 1\r\n\t\t\t\t\t})\r\n\t\t\t\t])\r\n\t\t\t\tthis.shop = `店铺权限${this.form.store.length}项`\r\n\t\t\t}\r\n\t\t\t// 品牌权限\r\n\t\t\tif (store.state.tademark.length > 0) {\r\n\t\t\t\tthis.form.brand = []\r\n\t\t\t\tlet ids = []\r\n\t\t\t\tif (store.state.tademark[store.state.tademark.length - 1] > 0) {\r\n\t\t\t\t\tids = store.state.tademark\r\n\t\t\t\t\tids.map(v => {\r\n\t\t\t\t\t\tthis.form.brand.push({\r\n\t\t\t\t\t\t\tbrand_id: v,\r\n\t\t\t\t\t\t\tchecked: 1\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t\tthis.trademark_name = `品牌权限${ids.length}项`\r\n\t\t\t\t} else {\r\n\t\t\t\t\tstore.state.tademark.pop()\r\n\t\t\t\t\tids = store.state.tademark\r\n\t\t\t\t\tids.map(v => {\r\n\t\t\t\t\t\tthis.form.brand.push({\r\n\t\t\t\t\t\t\tbrand_id: v,\r\n\t\t\t\t\t\t\tchecked: 1\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.trademark_name = `全部品牌`\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// 用户权限\r\n\t\t\tif (store.state.purview.length > 0) {\r\n\t\t\t\tthis.purview_name = `单据权限${store.state.purview.length}项`\r\n\t\t\t\tthis.form.authority = store.state.purview\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\t.editUserManagement {\r\n\t\twidth: 100%;\r\n\t\tdisplay: flex;\r\n\t\tbackground-color: #f0f0f0;\r\n\t\theight: 100vh;\r\n\t\tflex-direction: column;\r\n\t\toverflow: hidden;\r\n\t\t.box {\r\n\t\t\twidth: 100%;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\tmargin-bottom: 20rpx;\r\n\r\n\t\t\t.item-box {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 80rpx;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: row;\r\n\t\t\t\tjustify-content: space-between;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tbackground-color: #FFFFFF;\r\n\t\t\t\tborder-bottom: 0.01rem solid #E5E5E5;\r\n\t\t\t\tpadding: 0 20rpx;\r\n\r\n\t\t\t\t.item-title {\r\n\t\t\t\t\twidth: 160rpx;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t// justify-content: center;\r\n\t\t\t\t\talign-items: flex-start;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.reset {\r\n\t\t\t\t\tcolor: #007AFF;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.item-w {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 80rpx;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: row;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tbackground-color: #FFFFFF;\r\n\t\t\t\tborder-bottom: 0.01rem solid #E5E5E5;\r\n\t\t\t\tpadding: 0 20rpx;\r\n\r\n\t\t\t\t.item-warning {\r\n\t\t\t\t\twidth: 180rpx;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t// justify-content: center;\r\n\t\t\t\t\talign-items: flex-start;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.kb {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: calc(100vh - 760rpx);\r\n\t\t\t\tbackground-color: #FFFFFF;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.btn {\r\n\t\t\tposition: fixed;\r\n\t\t\tbottom: 0;\r\n\t\t\twidth: 100%;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: row;\r\n\r\n\t\t\tcolor: #FFFFFF;\r\n\t\t\theight: 80rpx;\r\n\r\n\t\t\t.del {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tjustify-content: center;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tbackground-color: #3F536E;\r\n\t\t\t\tflex: 1;\r\n\t\t\t}\r\n\r\n\t\t\t.bc {\r\n\t\t\t\tflex: 1;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tjustify-content: center;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tbackground-color: #007AFF;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.pop {\r\n\t\t\tbackground-color: #F1F1F1;\r\n\t\t\twidth: 100%;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\t// justify-content: center;\r\n\t\t\talign-items: center;\r\n\r\n\t\t\t.title {\r\n\t\t\t\tpadding: 20rpx;\r\n\t\t\t\tcolor: #000000;\r\n\t\t\t}\r\n\r\n\t\t\t.inout {\r\n\t\t\t\tmargin-bottom: 30rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.aniu {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: row;\r\n\t\t\t\theight: 80rpx;\r\n\t\t\t\tborder-top: 1rpx solid #e5e5e5;\r\n\r\n\t\t\t\t.qx {\r\n\t\t\t\t\tflex: 1;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tjustify-content: center;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tborder-right: 1rpx solid #e5e5e5;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.qd {\r\n\t\t\t\t\tflex: 1;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tjustify-content: center;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t}\r\n</style>\n","import mod from \"-!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./editUserManagement.vue?vue&type=style&index=0&id=2ed85cf2&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./editUserManagement.vue?vue&type=style&index=0&id=2ed85cf2&scoped=true&lang=scss&\""],"sourceRoot":""}
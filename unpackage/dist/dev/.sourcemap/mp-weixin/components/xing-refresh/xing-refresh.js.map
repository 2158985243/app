{"version":3,"sources":["webpack:///C:/Users/admin/Desktop/clothingAPP/clothing/components/xing-refresh/xing-refresh.vue?6198","webpack:///C:/Users/admin/Desktop/clothingAPP/clothing/components/xing-refresh/xing-refresh.vue?7b93","webpack:///C:/Users/admin/Desktop/clothingAPP/clothing/components/xing-refresh/xing-refresh.vue?1001","webpack:///C:/Users/admin/Desktop/clothingAPP/clothing/components/xing-refresh/xing-refresh.vue?ee94","uni-app:///components/xing-refresh/xing-refresh.vue"],"names":["renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped"],"mappings":";;;;2DAAA,4NACIA,EADJ,qKAQIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,KACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,2CACZ,aAAAF,E;;;;2GCtBf,inC;;;;2GCAA,IAAIG,EAAJ,0LACA,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACJH,EAAII,MAAMC,IAEjBC,GAAmB,EACnBC,EAAkB,GACtBR,EAAOS,eAAgB,G;;;;2DCRvB,ivBAA0rB,eAAG,G;;;;mICmC7rB,CACA,OACA,aAEA,aACA,YAEA,cAEA,YACA,aAEA,WAEA,YACA,YAEA,mBAEA,YACA,YAEA,SAEA,YACA,YAEA,WAEA,YACA,WAEA,iBACA,aACA,aAGA,KArCA,WAsCA,OACA,WACA,IACA,OACA,cACA,YACA,MACA,SACA,UACA,gBACA,UACA,oBAGA,cApDA,aAuDA,QAvDA,WAwDA,uBACA,iDAEA,SACA,OADA,SACA,GAEA,+BAEA,sCACA,cACA,uBACA,iBAGA,WAXA,SAWA,GACA,eACA,iBAEA,SAfA,SAeA,cACA,gCACA,yCACA,cAEA,KACA,eACA,kCACA,gBACA,kBACA,gBACA,cACA,iBACA,mCACA,qBACA,uBACA,oBACA,WACA,mBACA,SAEA,iBACA,cACA,kCAEA,uBACA,uBACA,aACA,SAKA,OAhDA,SAgDA,cAEA,uBACA,0BACA,mBACA,oCACA,iEACA,gBACA,2BACA,6BACA,mBAEA,MAEA,cA9DA,SA8DA,GACA,gCAGA,OACA,OADA,SACA,GACA,6CACA,+CAEA,UALA,WAMA,2B","file":"components/xing-refresh/xing-refresh.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./xing-refresh.vue?vue&type=template&id=21b85084&\"\nvar renderjs\nimport script from \"./xing-refresh.vue?vue&type=script&lang=js&\"\nexport * from \"./xing-refresh.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/xing-refresh/xing-refresh.vue\"\nexport default component.exports","export * from \"-!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./xing-refresh.vue?vue&type=template&id=21b85084&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./xing-refresh.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Downloads/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./xing-refresh.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<movable-area :style=\"'height:' + scrollHeight + 'px;width:100%;'\">\r\n\t\t\t<movable-view\r\n\t\t\t\t:style=\"'height:' + (topHeight + scrollHeight) + 'px;width:100%;z-index:3'\"\r\n\t\t\t\tdirection=\"vertical\"\r\n\t\t\t\t:out-of-bounds=\"true\"\r\n\t\t\t\t:disabled=\"!scrollmark || status == 3\"\r\n\t\t\t\t:y=\"y\"\r\n\t\t\t\t:damping=\"50\"\r\n\t\t\t\t@touchstart=\"touchstart\"\r\n\t\t\t\t@touchend=\"touchend\"\r\n\t\t\t\t@change=\"change\"\r\n\t\t\t>\r\n\t\t\t\t<view :style=\"'height:' + topHeight + 'px;position:relative;background-color:#ffffff;'\"><slot name=\"top\"></slot></view>\r\n\t\t\t\t<scroll-view \r\n\t\t\t\t:style=\"'height:' + scrollHeight + 'px;'\" \r\n\t\t\t\t:scroll-y=\"status !== 3\"\r\n\t\t\t\t:scroll-with-animation = \"scrollAnimation\"\r\n\t\t\t\t:scroll-top = \"top\"\r\n\t\t\t\t@scroll=\"scroll\" \r\n\t\t\t\t@scrolltolower=\"scrolltolower\"  >\r\n\t\t\t\t\t<view>\r\n\t\t\t\t\t\t<slot name=\"content\"></slot>\r\n\t\t\t\t\t\t<template v-if=\"downLoading\">\r\n\t\t\t\t\t\t\t<slot name=\"bottom\"></slot>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</scroll-view>\r\n\t\t\t</movable-view>\r\n\t\t</movable-area>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tprops: {\r\n\t\tdownLoading: {\r\n\t\t\t//控制下面下拉加载区的显示 , 默认关闭\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false\r\n\t\t},\r\n\t\tscrollHeight: {\r\n\t\t\t//scroll显示区的高度(px)\r\n\t\t\ttype: Number,\r\n\t\t\tdefault: 500\r\n\t\t},\r\n\t\ttopHeight: {\r\n\t\t\t//下拉区的高度(px)\r\n\t\t\ttype: Number,\r\n\t\t\tdefault: 60\r\n\t\t},\r\n\t\tinterruptPosition: {\r\n\t\t\t//暂停区的高度(px)\r\n\t\t\ttype: Number,\r\n\t\t\tdefault: 40\r\n\t\t},\r\n\t\tdamping: {\r\n\t\t\t//回弹动画的速度 , 值越大越快\r\n\t\t\ttype: Number,\r\n\t\t\tdefault: 50\r\n\t\t},\r\n\t\tscrollTop:{\r\n\t\t\t//即scroll-top属性 设置竖向滚动条位置\r\n\t\t\ttype:Number,\r\n\t\t\tdefault:0\r\n\t\t},\r\n\t\tscrollAnimation:{\r\n\t\t\ttype:Boolean,\r\n\t\t\tdefault:false\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tisTouch: false,//触摸的标识\r\n\t\t\ty: 0,//控制y\r\n\t\t\tdiff: 0,//定值topHeight-interruptPotion\r\n\t\t\tscrollmark: true,\r\n\t\t\ttimeId: null,\r\n\t\t\ttop: 0,\r\n\t\t\tstatus: 0,\r\n\t\t\tcount: 0.01,\r\n\t\t\tscrollCount: 0.01,\r\n\t\t\tfingers:0,//记录手指数\r\n\t\t\tclearFingers:null,//清除手指定时器\r\n\t\t};\r\n\t},\r\n\tchangePositon(){\r\n\t\t\r\n\t},\r\n\tcreated() {\r\n\t\tthis.y = -this.topHeight;\r\n\t\tthis.diff = this.interruptPosition - this.topHeight;\r\n\t},\r\n\tmethods: {\r\n\t\tchange(e) {\r\n\t\t\t//为3即是正在回弹状态\r\n\t\t\tif (this.status == 3 || !this.isTouch) return;\r\n\t\t\t\r\n\t\t\tif (e.detail.y >= this.diff || this.fingers > 1) {\r\n\t\t\t\tthis.status = 2;\r\n\t\t\t} else if (e.detail.y < this.diff) {\r\n\t\t\t\tthis.status = 1;\r\n\t\t\t}\r\n\t\t},\r\n\t\ttouchstart(e) {\r\n\t\t\tthis.fingers++;\r\n\t\t\tthis.isTouch = true;\r\n\t\t},\r\n\t\ttouchend(e) {\r\n\t\t\tclearTimeout(this.clearFingers);\r\n\t\t\tthis.clearFingers = setTimeout(()=>{\r\n\t\t\t\tthis.fingers = 0;\r\n\t\t\t\t//重置手指数防止bug;\r\n\t\t\t},200);\r\n\t\t\tthis.fingers--;\r\n\t\t\tif (this.status == 3 || this.fingers!=0) return;//防止多指下滑问题 , 匹配手指 只用到最后一次touchend;栈的思想\r\n\t\t\tthis.isTouch = false;\r\n\t\t\tif (this.scrollmark) {\r\n\t\t\t\tif (this.status == 2) {\r\n\t\t\t\t\tthis.status = 3;\r\n\t\t\t\t\tthis.y = this.diff;\r\n\t\t\t\t\tthis.$emit('interrupt', () => {\r\n\t\t\t\t\t\tthis.y = -this.topHeight - 0.02;\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tthis.$emit('finished');\r\n\t\t\t\t\t\t\tthis.status = 0; //回弹过程中\r\n\t\t\t\t\t\t\tthis.y = -this.topHeight; //结束之后，再次设置y坐标\r\n\t\t\t\t\t\t}, 200);\r\n\t\t\t\t\t});\r\n\t\t\t\t} else if (this.status == 1) {\r\n\t\t\t\t\tthis.status = 3;\r\n\t\t\t\t\tthis.y = -this.topHeight + this.count;\r\n\t\t\t\t\t//微小改变 否则无响应\r\n\t\t\t\t\tthis.count = -this.count;\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tthis.status = 0; //回弹过程中\r\n\t\t\t\t\t}, 200);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tscroll(e) {\r\n\t\t\t//事件\r\n\t\t\tthis.$emit('scroll',e)\r\n\t\t\tclearTimeout(this.timeId);\r\n\t\t\tthis.scrollmark = false;\r\n\t\t\tthis.timeId = setTimeout(() => {\r\n\t\t\t\tif (e.detail.scrollTop <= 15 || e.detail.scrollTop - e.detail.deltaY <= 0) {\r\n\t\t\t\t\tthis.top = 0 + this.count;\r\n\t\t\t\t\tthis.$emit('scrolltoupper',e)\r\n\t\t\t\t\tthis.scrollCount = -this.scrollCount;\r\n\t\t\t\t\tthis.scrollmark = true;\r\n\t\t\t\t}\r\n\t\t\t}, 100);\r\n\t\t},\r\n\t\tscrolltolower(e){\r\n\t\t\tthis.$emit('scrolltolower',e);\r\n\t\t}\r\n\t},\r\n\twatch: {\r\n\t\tstatus(value) {\r\n\t\t\tif (this.status == 2) this.$emit('pushToInterrupt');\r\n\t\t\telse if (this.status == 1) this.$emit('backToInterrupt');\r\n\t\t},\r\n\t\tscrollTop(){\r\n\t\t\tthis.top = this.scrollTop;\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n\r\n<style></style>\r\n"],"sourceRoot":""}